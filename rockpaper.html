<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhHq6d5QmR0Ergf4eGf emitBtOAnKn8NmtOYDXFQmx2uua3TJHYe888" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="detailstyle.css">
    </head>
    <body>
      <div class="page1">
      <h1 class="text-center">ROCK.PAPER.SCISSOR</h1>

      <div class="holdershold text-center">
        
        
      <div class="buttoncard text-center">
        
    <button
    onclick="playgame('rock');
     ">rock</button>
    <button
    onclick="playgame('paper');
    ">paper</button>
    <button
    onclick="playgame('scissor');
    ">scissor</button>
   <button
   onclick="resetscore();
   localStorage.removeItem('score');
   ">
   
   resetscore</button>
  
    </div>
    <p class="js-score"></p>
    <p class="js-move"></p>
    <p class="res"></p>
    </div>
  </div>
   
   

   
     <script>
 
console.log(JSON.parse(localStorage.getItem('score')) );
      let score= JSON.parse(localStorage.getItem('score')) ||{ wins:0,
      losses:0,
        ties:0
      }
      livescore();
       function resetscore(){
        score.wins=0;
        score.losses=0;
        score.ties=0;
       // localStorage.setItem('score',JSON.stringify(score));//
       livescore();
        alert(`The scores have been set to zero`);
      }
      if(!score){
        score.wins=0;
        score.losses=0;
        score.ties=0;
      }
function livescore(){
  document.querySelector('.js-score')
      .innerHTML=`wins:${score.wins} losses:${score.losses} draws:${score.ties}
      ` 
}
      function playgame(pmove)
      {
        cmove = computerMove();
        let res='';
        if(pmove === 'scissor')
        {
          if(cmove === 'rock')
          {
            res = 'You lose';
            }
            else if(cmove === 'paper')
            {
              res = 'You win';
          }
        else if(cmove===pmove)
        {
          res ='tie';
        }
        }
        else if(pmove==='paper')
        {
          if(cmove === 'scissor')
          {
            res = 'You lose';
        }
        else if(cmove === 'rock')
        {
          res = 'You win';
        }
         else if(cmove===pmove)
        {
          res ='tie';
        } 
      }
      else if(pmove==='rock')
      {
        if(cmove === 'paper')
        {
          res = 'You lose';
        }
        else if(cmove === 'scissor')
        
          res = 'You win';
          
          else if(cmove===pmove)
           {
            res ='tie';
            }
            }
        
        if(res==='You win'){
          score.wins+=1;
        }    
        else if(res==='You lose'){
          score.losses+=1;
        }
        else if(res==='tie'){
          score.ties+=1;
        }

        localStorage.setItem('score',JSON.stringify(score));
        livescore();
        document.querySelector('.js-move').
        innerHTML=`your move:${pmove}-computer move:${cmove}`;
       document.querySelector('.res').
       innerHTML= `${res}!`;
        }  
 
      function computerMove()
            {
              const rmove=Math.random();
              let cmove ='';
              if(rmove>=0&&rmove<1/3)
                {
                  cmove='rock';
                }
              else if(rmove>=1/3&&rmove<2/3)
                {
                  cmove='paper';
                }
                else
                {
                    cmove='scissor';
                }
              return cmove;
            }
           
     </script> 
   
    </body>
</html>
